<div class="a-card">
  <h3 style="margin-top:0; margin-bottom:1rem"><%= title %></h3>
  <div style="height: 300px; display: flex; justify-content: center;">
    <canvas id="<%= id %>"></canvas>
  </div>
</div>

<script>
  (function() {
    const ctx = document.getElementById('<%= id %>').getContext('2d');
    new Chart(ctx, {
      type: 'doughnut',
      data: {
        labels: <%- JSON.stringify(labels) %>,
        datasets: [{
          data: <%- JSON.stringify(data) %>,
          backgroundColor: <%- JSON.stringify(colors) %>,
          borderWidth: 0
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            position: 'bottom',
            labels: {
              usePointStyle: true,
              boxWidth: 8,
              padding: 20
            }
          }
        }
      }
    });
  })();
</script>
